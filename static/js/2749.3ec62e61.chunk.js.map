{"version":3,"file":"static/js/2749.3ec62e61.chunk.js","mappings":"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","sources":["GOBAL.js","views/report/paper-update/PaperUpdate.js"],"sourcesContent":["const GROBAL = {\n  // BASE_SERVER: {\n  //   URL: \"http://localhost/volunteering_activities_API/api/\",\n  //   URL_UPLOAD: \"http://localhost/volunteering_activities_API/api/\",\n  // },\n  BASE_SERVER: {\n    URL: \"https://volunteering-activities-f492d05e3c5a.herokuapp.com/api/\",\n    URL_UPLOAD: \"https://volunteering-activities-f492d05e3c5a.herokuapp.com/api/\",\n  },\n  ACCESS_TOKEN: {\n    \"x-access-token\": localStorage.getItem(\"x-access-token\"),\n  },\n};\n\nexport default GROBAL;\n","import {\r\n    Card,\r\n    Input,\r\n    Button,\r\n    Col,\r\n    Row,\r\n    DatePicker,\r\n    message,\r\n    Upload,\r\n  } from \"antd\";\r\n  import Swal from \"sweetalert2\";\r\n  import GROBAL from \"../../../GOBAL\";\r\n  import React, { useState, useEffect, useRef } from \"react\";\r\n  import { Link, useNavigate, useParams } from \"react-router-dom\";\r\n  import axios from \"axios\";\r\n  \r\n  const PaperUpdate = () => {\r\n    const routeParams = useParams();\r\n    const navigate = useNavigate();\r\n    const { TextArea } = Input;\r\n    const [paper, setPaper] = useState({\r\n      paper_id: \"\",\r\n      paper_detail: \"\",\r\n      paper: \"\",\r\n    });\r\n    console.log(paper);\r\n    const getData = async () => {\r\n        console.log(routeParams);\r\n        try {\r\n          const resp = await axios.post(\r\n            `${GROBAL.BASE_SERVER.URL}paper/index.php`,\r\n            {\r\n              paper_id: routeParams.id,\r\n            }\r\n          );\r\n          console.log(resp.data.data);\r\n          if (resp.data.require) {\r\n            setPaper(resp.data.data[0]);\r\n          } else {\r\n            Swal.fire({\r\n              title: 'เกิดความผิดพลาด',\r\n              text: resp.data.message,\r\n              timer: 2000\r\n            })\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      };\r\n      useEffect(() => {\r\n        getData();\r\n      }, []);\r\n    const checkSubmit = () => {\r\n      if (paper.paper_detail === \"\") {\r\n        Swal.fire({\r\n          icon: \"warning\",\r\n          title: \"ผิดพลาด\",\r\n          text: \"โปรดระบุข้อมูลรายละเอียดเอกสาร\",\r\n          timer: 2000,\r\n        });\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    };\r\n    const handleSubmit = async (event) => {\r\n      event.preventDefault();\r\n      try {\r\n        if (checkSubmit()) {\r\n          const res = await axios.post(\r\n            `${GROBAL.BASE_SERVER.URL}paper/update/index.php`,\r\n            {\r\n              paper_id: paper.paper_id,\r\n              paper_detail: paper.paper_detail,\r\n              paper: paper.paper,\r\n            }\r\n          );\r\n          if (res.data.require) {\r\n            Swal.fire({\r\n              icon: \"success\",\r\n              title: \"สำเร็จ\",\r\n              text: \"บันทึกสำเร็จ\",\r\n              timer: 2000,\r\n            }).then(() => {\r\n              navigate(\"/paper\");\r\n            });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    const handleDatas = (datas) => {\r\n      setPaper({ ...paper, [datas.target.name]: datas.target.value });\r\n    };\r\n    const props = {\r\n      name: 'file',\r\n      action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n      headers: {\r\n        authorization: 'authorization-text',\r\n      },\r\n      onChange(info) {\r\n        if (info.file.status !== 'uploading') {\r\n          console.log(info.file, info.fileList);\r\n        }\r\n        if (info.file.status === 'done') {\r\n          message.success(`${info.file.name} file uploaded successfully`);\r\n        } else if (info.file.status === 'error') {\r\n          message.error(`${info.file.name} file upload failed.`);\r\n        }\r\n      },\r\n    };\r\n    return (\r\n      <>\r\n        <Card title=\"แก้ไขรายงานเอกสาร\">\r\n          <Row justify=\"center\">\r\n            <Col span={8}>\r\n              <Row justify=\"center\">\r\n                <Col>\r\n                  <Upload {...props}>\r\n                    <Button>กดเพื่ออัพโหลดเอกสาร</Button>\r\n                  </Upload>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n          <br />\r\n          <Row justify=\"center\">\r\n            <Col span={8}>\r\n              <label>รายละเอียดเอกสาร</label>\r\n              <TextArea\r\n                rows={5}\r\n                value={paper.paper_detail}\r\n                name=\"paper_detail\"\r\n                onChange={handleDatas}\r\n                required\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <br />\r\n          <Row justify=\"center\">\r\n            <Col span={2}>\r\n              <Link to={\"/paper\"}>\r\n                <Button>\r\n                  ย้อนกลับ\r\n                </Button>\r\n              </Link>\r\n            </Col>\r\n            <Col span={1}></Col>\r\n            <Col span={2}>\r\n              <Button\r\n                type=\"submit\"\r\n                onClick={(e) => handleSubmit(e)}\r\n              >\r\n                บันทึก\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Card>\r\n      </>\r\n    );\r\n  };\r\n  export default PaperUpdate;\r\n  "],"names":["GROBAL","BASE_SERVER","URL","URL_UPLOAD","ACCESS_TOKEN","localStorage","getItem","routeParams","useParams","navigate","useNavigate","TextArea","Input","useState","paper_id","paper_detail","paper","setPaper","console","log","getData","axios","id","resp","data","require","Swal","title","text","message","timer","useEffect","handleSubmit","event","preventDefault","icon","then","props","name","action","headers","authorization","onChange","info","file","status","fileList","justify","span","rows","value","datas","target","required","to","type","onClick","e"],"sourceRoot":""}