{"version":3,"file":"static/js/1915.51519b3e.chunk.js","mappings":"yKAAA,IAAMA,EAAS,CAKbC,YAAa,CACXC,IAAK,kEACLC,WAAY,mEAEdC,aAAc,CACZ,iBAAkBC,aAAaC,QAAQ,oBAI3C,K,yJCqHA,UA9HkB,WAChB,OAA0BC,EAAAA,EAAAA,UAAS,IAAG,eAA/BC,EAAK,KAAEC,EAAQ,KACtB,GAA8BF,EAAAA,EAAAA,UAAS,IAAG,eAAnCG,EAAO,KAAEC,EAAU,KAC1B,GAAkCJ,EAAAA,EAAAA,UAAS,IAAG,eACxCK,GADU,KAAc,KACjB,yCAAG,kHAEOC,EAAAA,GAAAA,KAAW,GAAD,OACxBb,EAAAA,EAAAA,YAAAA,IAAsB,sBACzB,CACEc,OAAQ,kBAEV,KAAD,GALKC,EAAI,QAMLC,KAAKA,KAAKC,SAAQ,SAACC,EAASC,GAC/B,IAAIC,EAAOF,EAAQG,aAAaC,MAAM,KAClCC,EAAUH,EAAK,GAAGE,MAAM,KAAK,GAC7BE,EAAUJ,EAAK,GAAGE,MAAM,KAAK,GAAK,EAClCG,EAAUL,EAAK,GAAGE,MAAM,KAAK,GAC7BI,EAAQN,EAAK,GAAGE,MAAM,KAAK,GAC3BK,EAAQP,EAAK,GAAGE,MAAM,KAAK,GAAK,EAChCM,EAAQR,EAAK,GAAGE,MAAM,KAAK,GAEzBO,EADa,IAAIC,KAAKP,EAASC,EAASC,GACdM,mBAAmB,QAAS,CAC1DC,KAAM,UACNC,MAAO,OACPC,IAAK,YAGDC,EADW,IAAIL,KAAKJ,EAAOC,EAAOC,GACZG,mBAAmB,QAAS,CACtDC,KAAM,UACNC,MAAO,OACPC,IAAK,YAEPhB,EAAQE,KAAOS,EAAe,uBAAUM,EACxCjB,EAAe,MAAIC,EAAQ,CAC7B,IACIJ,EAAKC,KAAKoB,QACZ3B,EAASM,EAAKC,KAAKA,MAEnBqB,KAAKC,KAAK,CACRC,MAAO,6FACPC,KAAMzB,EAAKC,KAAKyB,QAChBC,MAAO,MAEV,gDAEDC,QAAQC,IAAI,EAAD,IAAQ,yDAEtB,kBA3CY,oCA4CPC,EAAS,yCAAG,kHAEOhC,EAAAA,GAAAA,KAAW,GAAD,OAC1Bb,EAAAA,EAAAA,YAAAA,IAAsB,kBACzB,CACEc,OAAQ,cAEV,KAAD,GALGgC,EAAQ,QAMC9B,KAAKoB,SAChBzB,EAAWmC,EAAS9B,KAAKA,MAC1B,gDAED2B,QAAQC,IAAI,EAAD,IAAQ,yDAEtB,kBAdc,oCAefG,EAAAA,EAAAA,YAAU,WACRnC,IACAiC,GACF,GAAG,IAEH,IAmBMG,EAAe,CACnBC,OAAQ,QACRC,MAAO,OACPC,WAAY,QACZC,UAAW,SACXC,WAAY,WAGd,OACE,+BACE,UAAC,IAAI,CAACd,MAAM,6CAAUe,MAAO,CAAEC,MAAO,OAAQN,OAAQ,QAAS,WAC3D,SAAC,IAAQ,CAACO,UAAQ,WACf9C,EAAQ+C,KAAI,SAACC,GAAQ,OACpB,gBAA4BJ,MAAO,CAAEK,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UACpG,gBACEC,IAAG,UAAK9D,EAAAA,EAAAA,YAAAA,IAAsB,sDAA8C0D,EAASK,YACrFC,IAAKN,EAASO,QACdX,MAAON,KAJDU,EAASO,QAMb,OAGV,mBACA,8BACE,SAAC,MAAiB,CAACX,MAAO,CAAEY,SAAU,UAAY,sFAEpD,mBACA,SAAC,IAAK,CACJZ,MAAO,CAAC,EACRa,QAhDc,CACtB,CACE5B,MAAO,iCACP6B,UAAW,QACXC,IAAK,SAEP,CACE9B,MAAO,uCACP6B,UAAW,OACXC,IAAK,QAGP,CACE9B,MAAO,mDACP6B,UAAW,kBACXC,IAAK,oBAkCCC,WAAY9D,EACZ+D,WAAY,CAAEC,SAAU,GACxBC,OAAO,iBAET,sBAIV,C","sources":["GOBAL.js","views/dashboard/Dashboard.js"],"sourcesContent":["const GROBAL = {\n  // BASE_SERVER: {\n  //   URL: \"http://localhost/volunteering_activities_API/api/\",\n  //   URL_UPLOAD: \"http://localhost/volunteering_activities_API/api/\",\n  // },\n  BASE_SERVER: {\n    URL: \"https://volunteering-activities-f492d05e3c5a.herokuapp.com/api/\",\n    URL_UPLOAD: \"https://volunteering-activities-f492d05e3c5a.herokuapp.com/api/\",\n  },\n  ACCESS_TOKEN: {\n    \"x-access-token\": localStorage.getItem(\"x-access-token\"),\n  },\n};\n\nexport default GROBAL;\n","import { Table, Card, Carousel, Row } from \"antd\";\nimport { AiOutlineCalendar } from \"react-icons/ai\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport GROBAL from \"../../GOBAL\";\nconst Dashboard = () => {\n  const [datas, setDatas] = useState([]);\n  const [datanew, setDataNew] = useState([]);\n  const [dataimage, setDataImage] = useState([]);\n  const getData = async () => {\n    try {\n      const resp = await axios.post(\n        `${GROBAL.BASE_SERVER.URL}calendar/index.php`,\n        {\n          action: \"getCalendarBy\",\n        }\n      );\n      resp.data.data.forEach((element, index) => {\n        let date = element.dateCalendar.split(\" \");\n        let Y_start = date[0].split(\"-\")[0];\n        let M_start = date[0].split(\"-\")[1] - 1;\n        let D_start = date[0].split(\"-\")[2];\n        let Y_end = date[1].split(\"-\")[0];\n        let M_end = date[1].split(\"-\")[1] - 1;\n        let D_end = date[1].split(\"-\")[2];\n        const date_start = new Date(Y_start, M_start, D_start);\n        const date_startth = date_start.toLocaleDateString(\"th-TH\", {\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\",\n        });\n        const date_end = new Date(Y_end, M_end, D_end);\n        const date_endth = date_end.toLocaleDateString(\"th-TH\", {\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\",\n        });\n        element.date = date_startth + \" ถึง \" + date_endth;\n        element[\"index\"] = index + 1;\n      });\n      if (resp.data.require) {\n        setDatas(resp.data.data);\n      } else {\n        Swal.fire({\n          title: 'เกิดความผิดพลาด',\n          text: resp.data.message,\n          timer: 2000\n        })\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const getNewsBy = async () => {\n    try {\n      let response = await axios.post(\n        `${GROBAL.BASE_SERVER.URL}news/index.php`,\n        {\n          action: \"getNewsBy\",\n        }\n      );\n      if (response.data.require) {\n        setDataNew(response.data.data);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    getData();\n    getNewsBy()\n  }, []);\n  //ตารางข้อมูล\n  const columnsCalendar = [\n    {\n      title: \"ลำดับ\",\n      dataIndex: \"index\",\n      key: \"index\",\n    },\n    {\n      title: \"วันที่\",\n      dataIndex: \"date\",\n      key: \"date\",\n    },\n\n    {\n      title: \"คำอธิบาย\",\n      dataIndex: \"calendar_detail\",\n      key: \"calendar_detail\",\n    },\n\n  ];\n  const contentStyle = {\n    height: \"300px\",\n    color: \"#fff\",\n    lineHeight: \"300px\",\n    textAlign: \"center\",\n    background: \"#364d79\",\n  };\n\n  return (\n    <>\n      <Card title=\"ข่าวสาร\" style={{ width: '100%', height: '100%' }}>\n          <Carousel autoplay>\n            {datanew.map((newsItem) => (\n              <div key={newsItem.news_id} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n                <img\n                  src={`${GROBAL.BASE_SERVER.URL}upload/volunteering_activities_API/uploads/${newsItem.news_image}`}\n                  alt={newsItem.news_id}\n                  style={contentStyle}\n                />\n              </div>\n            ))}\n          </Carousel>\n          <br />\n          <label>\n            <AiOutlineCalendar style={{ fontSize: \"25px\" }} /> ปฏิทินกิจกรรม\n          </label>\n          <br />\n          <Table\n            style={{}}\n            columns={columnsCalendar}\n            dataSource={datas}\n            pagination={{ pageSize: 5 }}\n            rowKey=\"calendar_id\"\n          />\n          <br />\n      </Card>\n    </>\n  );\n};\nexport default Dashboard;\n"],"names":["GROBAL","BASE_SERVER","URL","URL_UPLOAD","ACCESS_TOKEN","localStorage","getItem","useState","datas","setDatas","datanew","setDataNew","getData","axios","action","resp","data","forEach","element","index","date","dateCalendar","split","Y_start","M_start","D_start","Y_end","M_end","D_end","date_startth","Date","toLocaleDateString","year","month","day","date_endth","require","Swal","fire","title","text","message","timer","console","log","getNewsBy","response","useEffect","contentStyle","height","color","lineHeight","textAlign","background","style","width","autoplay","map","newsItem","display","justifyContent","alignItems","src","news_image","alt","news_id","fontSize","columns","dataIndex","key","dataSource","pagination","pageSize","rowKey"],"sourceRoot":""}