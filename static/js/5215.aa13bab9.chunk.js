"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5215],{74831:function(e,t){var n={BASE_SERVER:{URL:"https://volunteering-activities-f492d05e3c5a.herokuapp.com/api/",URL_UPLOAD:"https://volunteering-activities-f492d05e3c5a.herokuapp.com/api/"},ACCESS_TOKEN:{"x-access-token":localStorage.getItem("x-access-token")}};t.Z=n},35215:function(e,t,n){n.r(t);var r=n(1413),a=n(74165),i=n(15861),s=n(29439),c=n(83734),o=n(68678),d=n(2730),l=n(66106),u=n(30914),p=n(71666),x=n(97943),j=n(99051),h=n(87309),m=n(74831),f=n(72426),Z=n.n(f),_=n(72791),v=n(57689),y=n(11087),b=n(61044),g=n(21830),w=n.n(g),k=n(80184);t.default=function(){var e=(0,v.UO)(),t=(0,v.s0)(),n=(c.Z.Option,o.Z.TextArea),f=JSON.parse(window.localStorage.getItem("user")),g=(0,_.useState)({ac_id:"",ac_name:"",location:"",participants_num:"",date_start:"",date_end:"",time_start:"",time_end:"",hour_num:"",detail:"",image:"",ac_type_id:"",ac_category_id:"",ID:"",first_name:"",last_name:"",class:"",department_id:"",faculty_id:"",activity_approve_status:""}),E=(0,s.Z)(g,2),F=E[0],R=E[1],S=(0,_.useState)({ac_id:"",activity_approve_status:""}),C=(0,s.Z)(S,2),A=C[0],B=C[1],O=(0,_.useState)([]),U=(0,s.Z)(O,2),P=U[0],L=U[1],I=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.ZP.post("".concat(m.Z.BASE_SERVER.URL,"activity/index.php"),{action:"getActivityByID",ac_id:e.id});case 3:(n=t.sent).data.require&&R(n.data.data[0]),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),N=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.ZP.post("".concat(m.Z.BASE_SERVER.URL,"activity-list/index.php"),{action:"getActivityListByParticipants",ac_id:e.id});case 3:(n=t.sent).data.require&&L(n.data.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),D=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,""===F.activity_approve_status&&(w().fire({icon:"warning",title:"\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",text:"\u0e42\u0e1b\u0e23\u0e14\u0e23\u0e30\u0e1a\u0e38\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",timer:3e3}),1)){e.next=7;break}return e.next=5,b.ZP.post("".concat(m.Z.BASE_SERVER.URL,"activity/activity-approve-status/index.php"),{ac_id:F.ac_id,activity_approve_status:A.activity_approve_status});case 5:e.sent.data.require&&w().fire({icon:"success",title:"\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",text:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",timer:3e3}).then((function(){t("/activity")}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(P.length>=F.participants_num)){e.next=5;break}return w().fire({icon:"warning",title:"\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",text:"\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21\u0e19\u0e35\u0e49\u0e44\u0e14\u0e49",timer:3e3}),e.abrupt("return",!1);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Y();case 4:if(!e.sent){e.next=9;break}return e.next=7,b.ZP.post("".concat(m.Z.BASE_SERVER.URL,"activity-list/insert/index.php"),{insertActivityListByComeActivity:"",ac_id:F.ac_id,user_id:f.user_id});case 7:e.sent.data.require&&w().fire({icon:"success",title:"\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",text:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",timer:3e3}).then((function(){t("/activity")}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();(0,_.useEffect)((function(){I(),N()}),[]);var q=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0e15\u0e01\u0e25\u0e07",cancelButtonText:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}).then(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isConfirmed){e.next=5;break}return e.next=3,b.ZP.post("".concat(m.Z.BASE_SERVER.URL,"activity/delete/index.php"),{ac_id:n});case 3:e.sent.data.require?w().fire({icon:"success",title:"\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",text:"\u0e25\u0e1a\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",timer:3e3}).then((function(){I(),t("/activity")})):console.log(error);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,_.useEffect)((function(){B((0,r.Z)((0,r.Z)({},A),{},{activity_approve_status:"allow"}))}),[]),(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(d.Z,{title:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21",children:[(0,k.jsxs)(l.Z,{justify:"center",children:[(0,k.jsxs)(u.Z,{span:8,children:[(0,k.jsx)("label",{children:"\u0e0a\u0e37\u0e48\u0e2d_\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25\u0e1c\u0e39\u0e49\u0e40\u0e1b\u0e34\u0e14\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"}),(0,k.jsx)("br",{}),(0,k.jsx)(o.Z,{id:"name",name:"name",value:F.name,bordered:!1})]}),(0,k.jsx)(u.Z,{span:2}),(0,k.jsxs)(u.Z,{span:8,children:[(0,k.jsx)("label",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"}),(0,k.jsx)("br",{}),(0,k.jsx)(o.Z,{id:"ac_name",name:"ac_name",value:F.ac_name,bordered:!1})]})]}),(0,k.jsx)("br",{}),(0,k.jsxs)(l.Z,{justify:"center",children:[(0,k.jsxs)(u.Z,{span:8,children:[(0,k.jsx)("label",{children:"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e1b\u0e34\u0e14\u0e23\u0e31\u0e1a\u0e2a\u0e21\u0e31\u0e04\u0e23"}),(0,k.jsx)("br",{}),(0,k.jsx)(o.Z,{id:"participants_num",name:"participants_num",value:F.participants_num,bordered:!1})]}),(0,k.jsx)(u.Z,{span:2}),(0,k.jsxs)(u.Z,{span:8,children:[(0,k.jsx)("label",{children:"\u0e14\u0e49\u0e32\u0e19\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"}),(0,k.jsx)("br",{}),(0,k.jsx)(o.Z,{value:F.category_num+" "+F.category_name,bordered:!1,style:{width:390}})]})]}),(0,k.jsx)("br",{}),(0,k.jsxs)(l.Z,{justify:"center",children:[(0,k.jsx)(u.Z,{span:8,children:(0,k.jsxs)(l.Z,{children:[(0,k.jsxs)(u.Z,{children:[(0,k.jsx)("label",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e40\u0e1b\u0e34\u0e14\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"}),(0,k.jsx)("br",{}),(0,k.jsx)(p.Z,{format:"DD/MM/YYYY",bordered:!1,value:Z()(F.date_start)})]}),(0,k.jsx)(u.Z,{span:2}),(0,k.jsxs)(u.Z,{children:[(0,k.jsx)("label",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e1b\u0e34\u0e14\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"}),(0,k.jsx)("br",{}),(0,k.jsx)(p.Z,{format:"DD/MM/YYYY",bordered:!1,value:Z()(F.date_end)})]})]})}),(0,k.jsx)(u.Z,{span:2}),(0,k.jsxs)(u.Z,{span:8,children:[(0,k.jsx)("label",{children:"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07"}),(0,k.jsx)("br",{}),(0,k.jsx)(o.Z,{id:"hour_num",name:"hour_num",value:F.hour_num,bordered:!1})]})]}),(0,k.jsx)("br",{}),(0,k.jsxs)(l.Z,{justify:"center",children:[(0,k.jsx)(u.Z,{span:8,children:(0,k.jsxs)(l.Z,{children:[(0,k.jsxs)(u.Z,{children:[(0,k.jsx)("label",{children:"\u0e40\u0e27\u0e25\u0e32\u0e40\u0e23\u0e34\u0e48\u0e21\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"}),(0,k.jsx)("br",{}),(0,k.jsx)(x.Z,{format:"HH:mm",bordered:!1,value:Z()(F.time_start,"HH:mm")})]}),(0,k.jsx)(u.Z,{span:3}),(0,k.jsxs)(u.Z,{children:[(0,k.jsx)("label",{children:"\u0e40\u0e27\u0e25\u0e32\u0e2a\u0e34\u0e49\u0e19\u0e2a\u0e38\u0e14\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"}),(0,k.jsx)("br",{}),(0,k.jsx)(x.Z,{format:"HH:mm",bordered:!1,value:Z()(F.time_end,"HH:mm")})]})]})}),(0,k.jsx)(u.Z,{span:2}),(0,k.jsx)(u.Z,{span:8,children:(0,k.jsx)(l.Z,{children:(0,k.jsxs)(u.Z,{children:[(0,k.jsx)("label",{children:"\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e23\u0e39\u0e1b\u0e41\u0e1a\u0e1a"}),(0,k.jsx)("br",{}),(0,k.jsx)(o.Z,{bordered:!1,value:F.type_name,style:{width:155}})]})})})]}),(0,k.jsx)("br",{}),(0,k.jsxs)(l.Z,{justify:"center",children:[(0,k.jsxs)(u.Z,{span:8,children:[(0,k.jsx)("label",{children:"\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48"}),(0,k.jsx)(n,{rows:5,value:F.location,maxLength:6,id:"location",name:"location",bordered:!1})]}),(0,k.jsx)(u.Z,{span:2}),(0,k.jsxs)(u.Z,{span:8,children:[(0,k.jsx)("label",{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"}),(0,k.jsx)(n,{rows:5,value:F.detail,maxLength:6,bordered:!1})]})]}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),(0,k.jsx)("label",{children:"\u0e1c\u0e39\u0e49\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"}),(0,k.jsx)(j.Z,{columns:[{title:"\u0e25\u0e33\u0e14\u0e31\u0e1a",dataIndex:"index",key:"index"},{title:"\u0e23\u0e2b\u0e31\u0e2a\u0e19\u0e31\u0e01\u0e28\u0e36\u0e01\u0e29\u0e32",dataIndex:"student_id",key:"student_id"},{title:"\u0e0a\u0e37\u0e48\u0e2d-\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25",dataIndex:"name",key:"name"},{title:"\u0e04\u0e13\u0e30",dataIndex:"faculty_name",key:"faculty_name"},{title:"\u0e2a\u0e32\u0e02\u0e32",key:"department_name",dataIndex:"department_name"}],dataSource:P,rowKey:"activity_list_id"}),(0,k.jsx)("br",{}),(0,k.jsxs)(l.Z,{justify:"center",children:[(0,k.jsx)(u.Z,{span:4,children:(0,k.jsx)(k.Fragment,{children:"wait"===F.activity_approve_status?(0,k.jsx)(y.rU,{to:"/activity-request/",children:(0,k.jsx)(h.Z,{block:!0,children:"\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a"})}):"allow"===F.activity_approve_status?(0,k.jsx)(y.rU,{to:"/activity/",children:(0,k.jsx)(h.Z,{block:!0,children:"\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a"})}):null})}),(0,k.jsx)(u.Z,{span:1}),(0,k.jsx)(u.Z,{span:2,children:(0,k.jsx)(k.Fragment,{children:"01"===f.user_type_id?(0,k.jsx)(u.Z,{span:2,children:(0,k.jsx)(y.rU,{to:"/activity-update/".concat(F.ac_id),children:(0,k.jsx)(h.Z,{children:"\u0e41\u0e01\u0e49\u0e44\u0e02"})})}):(0,k.jsx)(k.Fragment,{})})}),(0,k.jsx)(u.Z,{span:1}),(0,k.jsx)(k.Fragment,{children:"wait"===F.activity_approve_status?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(k.Fragment,{children:"01"===f.user_type_id?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,{span:2,children:(0,k.jsx)(h.Z,{onClick:function(e){return D(e)},children:"\u0e2d\u0e19\u0e38\u0e21\u0e31\u0e15\u0e34"})}),(0,k.jsx)(u.Z,{span:1}),(0,k.jsx)(u.Z,{span:2,children:(0,k.jsx)(h.Z,{onClick:function(){q(F.ac_id)},children:"\u0e44\u0e21\u0e48\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15"})})]}):(0,k.jsx)(k.Fragment,{})}),(0,k.jsx)(k.Fragment,{children:F.user_id?(0,k.jsx)(k.Fragment,{children:"01"!==f.user_type_id?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(u.Z,{span:2,children:(0,k.jsx)(y.rU,{to:"/activity-update/".concat(F.ac_id),children:(0,k.jsx)(h.Z,{children:"\u0e41\u0e01\u0e49\u0e44\u0e02"})})})}):(0,k.jsx)(k.Fragment,{})}):(0,k.jsx)(k.Fragment,{})})]}):(0,k.jsx)(k.Fragment,{})}),(0,k.jsx)(u.Z,{span:3,children:(0,k.jsx)(k.Fragment,{children:"05"===f.user_type_id?(0,k.jsx)(k.Fragment,{children:P.length>0?(0,k.jsx)(k.Fragment,{children:P.find((function(e){return e.user_id===f.user_id}))?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(y.rU,{to:"/activity-check-evidence/".concat(F.ac_id,"/").concat(f.user_id),children:(0,k.jsx)(h.Z,{type:"submit",children:"\u0e2a\u0e48\u0e07\u0e2b\u0e25\u0e31\u0e01\u0e10\u0e32\u0e19"})})}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(h.Z,{type:"submit",onClick:function(e){return H(e)},children:"\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"})})}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(h.Z,{type:"submit",onClick:function(e){return H(e)},children:"\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"})})}):(0,k.jsx)(k.Fragment,{})})})]})]})})}},97943:function(e,t,n){var r=n(87462),a=n(72791),i=n(71666),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},c=i.Z.TimePicker,o=i.Z.RangePicker,d=a.forwardRef((function(e,t){var n=e.dropdownClassName,i=e.popupClassName;return a.createElement(o,(0,r.Z)({},e,{dropdownClassName:i||n,picker:"time",mode:void 0,ref:t}))})),l=a.forwardRef((function(e,t){var n=e.addon,i=e.renderExtraFooter,o=e.popupClassName,d=e.dropdownClassName,l=s(e,["addon","renderExtraFooter","popupClassName","dropdownClassName"]),u=a.useMemo((function(){return i||(n||void 0)}),[n,i]);return a.createElement(c,(0,r.Z)({dropdownClassName:o||d},l,{mode:void 0,ref:t,renderExtraFooter:u}))}));l.RangePicker=d,t.Z=l}}]);
//# sourceMappingURL=5215.aa13bab9.chunk.js.map